<div class='config-intellicheck'>
    <p-table #tblForms [columns]="formCols" [value]="checkForms" [globalFilterFields]="['Name']" dataKey="ID">
        <!-- Columns -->
        <ng-template pTemplate="header" let-columns>
            <tr>
                <!-- <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                    {{col.header}}
                    <p-sortIcon [field]="col.field" *ngIf='col.sortable'></p-sortIcon>
                </th>
                <th>
                    Sync
                </th> -->
                <th style="width: 45px"></th>
                <th pSortableColumn="Name">Form Name
                    <p-sortIcon field="Name"></p-sortIcon>
                </th>
                <th style="width: 140px" pSortableColumn="Scheduled">Scheduled
                    <p-sortIcon field="Scheduled"></p-sortIcon>
                </th>
                <th pSortableColumn="Description">Description
                    <p-sortIcon field="Description"></p-sortIcon>
                </th>
                <th style="width: 60px">Sync</th>
            </tr>
        </ng-template>

        <!-- Body (rows of Data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr [pSelectableRow]="rowData">
                <td *ngFor="let col of columns">
                    <i *ngIf="col.field === 'Icon'" class='fas fa-file-alt'></i>
                    <div *ngIf="col.field !== 'Icon'">
                        {{rowData[col.field]}}
                    </div>
                </td>
                <td>
                    <p-checkbox binary="true" [(ngModel)]="rowData['Sync']" (onChange)='formSyncChanged($event, rowData)'></p-checkbox>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <p-table #tblUsers [columns]="userCols" [value]="allowedUsers" [globalFilterFields]="['UserName', 'FirstName', 'LastName']"
        dataKey="ID">
        <!-- Columns -->
        <ng-template pTemplate="header" let-columns>
            <tr>
                <!-- <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                    {{col.header}}
                    <p-sortIcon [field]="col.field" *ngIf='col.sortable'></p-sortIcon>
                </th>
                <th>
                    Sync
                </th> -->
                <th style="width: 45px"></th>
                <th pSortableColumn="UserName">User Name
                    <p-sortIcon field="UserName"></p-sortIcon>
                </th>
                <th pSortableColumn="FirstName">First Name
                    <p-sortIcon field="FirstName"></p-sortIcon>
                </th>
                <th pSortableColumn="LastName">Last Name
                    <p-sortIcon field="LastName"></p-sortIcon>
                </th>
                <th style="width: 145px" pSortableColumn="UserTypeName">Type
                    <p-sortIcon field="UserTypeName"></p-sortIcon>
                </th>
                <th style="width: 60px">Sync</th>
            </tr>
        </ng-template>

        <!-- Body (rows of Data) -->
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr [pSelectableRow]="rowData">
                <td *ngFor="let col of columns">
                    <i *ngIf="col.field === 'Icon'" class='fas fa-user'></i>
                    <div *ngIf="col.field !== 'Icon'">
                        {{rowData[col.field]}}
                    </div>
                </td>
                <td>
                    <p-checkbox binary="true" [(ngModel)]="rowData['Sync']" (onChange)='userSyncChanged($event, rowData)'></p-checkbox>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
